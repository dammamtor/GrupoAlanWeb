<app-header></app-header>
<div class="container mt-3">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="list-group">
                <div class="d-flex justify-content-between align-items-center mb-3">
                    <!-- Botón "Anterior" -->
                    <button *ngIf="products.length > 15 && startIndex > 0" (click)="retroceder()"
                        class="btn btn-outline-primary btn-navigation">
                        <i class="bi bi-arrow-left"></i> Anterior
                    </button>

                    <!-- Botón "Siguiente" -->
                    <button *ngIf="products.length > 15 && endIndex < products.length - 1" (click)="avanzar()"
                        class="btn btn-outline-primary btn-navigation">
                        Siguiente <i class="bi bi-arrow-right"></i>
                    </button>
                </div>
                <!-- Lista de productos -->
                <span class="list-group-item list-group-item-action d-flex flex-column flex-md-row align-items-center"
                    *ngFor="let product of products.slice(startIndex, endIndex + 1)" aria-current="true" (click)="irAProduct(product.ref)">
                    <img *ngIf="product.images && product.images.length > 0" [src]="product.images[0].imgMax"
                        alt="Product Image" width="100" height="100" class="rounded-circle flex-shrink-0">
                    <div class="ms-md-3 mt-3 mt-md-0">
                        <h6 class="mb-1" *ngIf="product.descriptions && product.descriptions.length > 0">
                            {{ product.descriptions[0].type }} {{ product.name }}
                        </h6>
                        <p *ngIf="product.descriptions && product.descriptions.length > 0" class="mb-2 opacity-75">{{
                            product.descriptions[0].details | slice:0:200 }}{{ product.descriptions[0].details.length >
                            200 ? '...' : '' }}</p>
                        <div *ngIf="product.variants && product.variants.length > 0" class="color-options">
                            <div class="d-flex flex-wrap">
                                <ng-container *ngFor="let variant of product.variants">
                                    <ng-container *ngIf="variant.colorSet">
                                        <img [src]="variant.colorSet.url" [alt]="variant.colorSet.name" class="color-option me-2 mb-2">
                                    </ng-container>
                                    <ng-container *ngIf="!variant.colorSet">
                                        <p>Color Unico</p>
                                    </ng-container>
                                </ng-container>
                            </div>
                        </div>                  
                    </div>
                </span>
            </div>
        </div>
    </div>
</div>


<!-- Botón para desplazarse hacia arriba -->
<button *ngIf="showScrollToTopBtn" class="scroll-to-top-btn" (click)="scrollToTop()">
    <i class="bi bi-arrow-up"></i>
</button>